# 数据库设计

## table_user.md（用户表）

<table>
    <tr>
        <td>字段</td>
        <td>类型</td>
        <td>主键，外键</td>
        <td>可以为空</td>
        <td>默认值</td>
        <td>约束</td>
        <td>说明</td>
    </tr>
    <tr>
        <td>user_id</td>
        <td>int</td>
        <td>主键</td>
        <td>否</td>
        <td></td>
        <td>自动递增，无符号</td>
        <td>用户的id，为user表的主键。</td>
    </tr>
    <tr>
        <td>user_name</td>
        <td>varchar(50)</td>
        <td></td>
        <td>否</td>
        <td></td>
        <td></td>
        <td>用户的真实姓名。</td>
    </tr>
    <tr>
        <td>github_name</td>
        <td>varchar(50)</td>
        <td></td>
        <td>是</td>
        <td>null</td>
        <td></td>
        <td>用户的github用户名。</td>
    </tr>
    <tr>
        <td>update_time</td>
        <td>datetime</td>
        <td></td>
        <td>是</td>
        <td>null</td>
        <td></td>
        <td>用户的github用户名的修改时间。</td>
    </tr>
    <tr>
        <td>password</td>
        <td>varchar(50)</td>
        <td></td>
        <td>是</td>
        <td>$user_id</td>
        <td></td>
        <td>用户的密码，默认值为用户的id。</td>
    </tr>
    <tr>
        <td>disable</td>
        <td>tinyint</td>
        <td></td>
        <td>是</td>
        <td>0</td>
        <td></td>
        <td>用户是否被禁用，0为没有被禁用，其他值为被禁用。</td>
    </tr>
</table>

## table_teacher.md（教师表）

<table>
    <tr>
        <td>字段</td>
        <td>类型</td>
        <td>主键，外键</td>
        <td>可以为空</td>
        <td>默认值</td>
        <td>约束</td>
        <td>说明</td>
    </tr>
    <tr>
        <td>teacher_id</td>
        <td>varchar(50)</td>
        <td>主键</td>
        <td>否</td>
        <td></td>
        <td></td>
        <td>教师的教职工号，为teacher表的主键。</td>
    </tr>
    <tr>
        <td>user_id</td>
        <td>int</td>
        <td>外键</td>
        <td>是</td>
        <td>null</td>
        <td>$user.user_id</td>
        <td>用户的id，为user表的外键。</td>
    </tr>
    <tr>
        <td>department</td>
        <td>varchar(255)</td>
        <td></td>
        <td>是</td>
        <td>null</td>
        <td></td>
        <td>老师所属的部门。</td>
    </tr>
</table>

## table_student.md（学生表）

<table>
    <tr>
        <td>字段</td>
        <td>类型</td>
        <td>主键，外键</td>
        <td>可以为空</td>
        <td>默认值</td>
        <td>约束</td>
        <td>说明</td>
    </tr>
    <tr>
        <td>student_id</td>
        <td>varchar(50)</td>
        <td>主键</td>
        <td>否</td>
        <td></td>
        <td></td>
        <td>学生的学号，为student表的主键。</td>
    </tr>
    <tr>
        <td>user_id</td>
        <td>int</td>
        <td>外键</td>
        <td>是</td>
        <td>null</td>
        <td>$user.user_id</td>
        <td>用户的id，为user表的外键。</td>
    </tr>
    <tr>
        <td>class_id</td>
        <td>int</td>
        <td>外键</td>
        <td>是</td>
        <td>null</td>
        <td>$class.class_id</td>
        <td>班级的id，为class表的外键。</td>
    </tr>
    <tr>
        <td>result_sum</td>
        <td>int</td>
        <td>外键</td>
        <td>是</td>
        <td>0</td>
        <td>无符号, student_average <= 100</td>
        <td>学生所有课程成绩汇总。</td>
    </tr>
</table>

## table_lesson.md（课程表）

<table>
    <tr>
        <td>字段</td>
        <td>类型</td>
        <td>主键，外键</td>
        <td>可以为空</td>
        <td>默认值</td>
        <td>约束</td>
        <td>说明</td>
    </tr>
    <tr>
        <td>lesson_id</td>
        <td>int</td>
        <td>主键</td>
        <td>否</td>
        <td></td>
        <td>自动递增，无符号</td>
        <td>课程的id，为lesson表的主键。</td>
    </tr>
    <tr>
        <td>profession_id</td>
        <td>int</td>
        <td>外键</td>
        <td>否</td>
        <td></td>
        <td>$profession.profession_id</td>
        <td>专业的id，为profession表的外键。</td>
    </tr>
    <tr>
        <td>teacher_id</td>
        <td>varchar(50)</td>
        <td>外键</td>
        <td>否</td>
        <td></td>
        <td>$teacher.teacher_id</td>
        <td>教师的教职工号，为teacher表的外键。</td>
    </tr>
    <tr>
        <td>year</td>
        <td>int</td>
        <td></td>
        <td>否</td>
        <td></td>
        <td></td>
        <td>开课的年份。</td>
    </tr>
    <tr>
        <td>semester</td>
        <td>char</td>
        <td></td>
        <td>否</td>
        <td></td>
        <td>“上” or “下” </td>
        <td>开课的学期，仅能为“上”或“下”，“上”指上半学期，“下”指下半学期。</td>
    </tr>
    
## table_profession.md（专业表）

<table>
    <tr>
        <td>字段</td>
        <td>类型</td>
        <td>主键，外键</td>
        <td>可以为空</td>
        <td>默认值</td>
        <td>约束</td>
        <td>说明</td>
    </tr>
    <tr>
        <td>profession_id</td>
        <td>int</td>
        <td>主键</td>
        <td>否</td>
        <td></td>
        <td>自动递增，无符号</td>
        <td>专业的id，为profession表的主键。</td>
    </tr>
    <tr>
        <td>profession_name</td>
        <td>varchar(255)</td>
        <td></td>
        <td>否</td>
        <td></td>
        <td></td>
        <td>专业的名字。</td>
    </tr>
</table>

## table_test.md（实验表）
    
<table>
    <tr>
        <td>字段</td>
        <td>类型</td>
        <td>主键，外键</td>
        <td>可以为空</td>
        <td>默认值</td>
        <td>约束</td>
        <td>说明</td>
    </tr>
    <tr>
        <td>test_id</td>
        <td>int</td>
        <td>主键</td>
        <td>否</td>
        <td></td>
        <td>自动递增，无符号</td>
        <td>实验的id，为test表的主键。</td>
    </tr>
    <tr>
        <td>lesson_id</td>
        <td>int</td>
        <td>外键</td>
        <td>否</td>
        <td></td>
        <td></td>
        <td>课程的id，为lesson表的外键。</td>
    </tr>
    <tr>
        <td>test_name</td>
        <td>vachar(255)</td>
        <td></td>
        <td>否</td>
        <td></td>
        <td></td>
        <td>实验的名称。</td>
    </tr>

</table>

## table_grades.md（成绩表）

<table>
    <tr>
        <td>字段</td>
        <td>类型</td>
        <td>主键，外键</td>
        <td>可以为空</td>
        <td>默认值</td>
        <td>约束</td>
        <td>说明</td>
    </tr>
    <tr>
        <td>score_id</td>
        <td>int</td>
        <td>主键</td>
        <td>否</td>
        <td></td>
        <td>自动递增，无符号</td>
        <td>成绩的id，为score表的主键。</td>
    </tr>
    <tr>
        <td>test_id</td>
        <td>int</td>
        <td>外键</td>
        <td>否</td>
        <td></td>
        <td>$test.test_id</td>
        <td>成绩所属实验的id，为test表的外键。</td>
    </tr>
    <tr>
        <td>student_id</td>
        <td>varchar(50)</td>
        <td>外键</td>
        <td>否</td>
        <td></td>
        <td>$student.student_id</td>
        <td>学生的学号，为student表的外键。</td>
    </tr>
    <tr>
        <td>github</td>
        <td>varchar(255)</td>
        <td></td>
        <td>是</td>
        <td>null</td>
        <td></td>
        <td>学生该实验的github网址。</td>
    </tr>
    <tr>
        <td>wanchengdu</td>
        <td>int</td>
        <td></td>
        <td>是</td>
        <td>0</td>
        <td>无符号，concept <= 20</td>
        <td>学生该实验的内容完成度，总分50分。</td>
    </tr>
    <tr>
        <td>yuyan</td>
        <td>int</td>
        <td></td>
        <td>是</td>
        <td>0</td>
        <td>无符号，language <= 20</td>
        <td>学生该实验的语言准确度，总分25分。</td>
    </tr>
    <tr>
        <td>jiegou</td>
        <td>int</td>
        <td></td>
        <td>是</td>
        <td>0</td>
        <td>无符号，structure <= 20</td>
        <td>学生该实验的结构清晰度，总分25分。</td>
    </tr>
    <tr>
        <td>result</td>
        <td>int</td>
        <td></td>
        <td>是</td>
        <td>0</td>
        <td>无符号，test_score <= 100</td>
        <td>学生该实验的总成绩。</td>
    </tr>
    <tr>
        <td>memo</td>
        <td>varchar(255)</td>
        <td></td>
        <td>是</td>
        <td>null</td>
        <td></td>
        <td>教师对学生的评语。</td>
    </tr>
    <tr>
        <td>update_date</td>
        <td>datetime</td>
        <td></td>
        <td>是</td>
        <td>null</td>
        <td></td>
        <td>老师批阅实验的时间。</td>
    </tr>
</table>

</table>